<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>209单词规律</title>
</head>
<body>
  <script>
    window.onload = function() {
      function wordPattern(pattern, s) {
        const words = s.split(' ');
        if (words.length !== pattern.length) { return false; }
        const patternMap = new Map();
        const wordsMap = new Map();

        for (let i = 0; i < pattern.length; i++) {
          const patternItem = pattern[i];
          const word = words[i];

          if (patternMap.get(patternItem) && patternMap.get(patternItem) !== words[i]) { return false; }
          if (wordsMap.get(word) && wordsMap.get(word) !== patternItem) { return false; }

          patternMap.set(patternItem, word);
          wordsMap.set(word, patternItem)
        }
        return true
      }
      console.log(wordPattern('abba', 'dog cat cat dog'))
      console.log(wordPattern('abba', 'dog cat cat fish'))
      console.log(wordPattern('aaaa', 'dog cat cat fish'))
      console.log(wordPattern('aaaa', 'dog dog dog dog'))

    }
  </script>
</body>
</html>