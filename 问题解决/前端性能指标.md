# 前端性能指标

加载性能(LCP)、互动性、视觉稳定性

## FCP (First Contentful Paint) 首次内容绘制 2024.09弃用

- 含义：浏览器首次绘制来自DOM的任意内容（如文本、图像、非白色的canvas和svg）标志着页面开始有实际内容显示给用户
- 重要性：快速的FCP可以让用户感觉页面在加载，减少等待的焦虑
- 优化措施：
  1. 优化服务器响应时间(减少TTFB)：使用CDN，启用服务器缓存，使用HTTP2/3
  2. 让浏览器尽快渲染可视区域内容：
      - 优化CSS：只加载首屏必要的CSS，其余异步加载；合并CSS文件，减少HTTP请求；避免使用@import（会增加额外的网络请求）
      - 优化js：通过defer和async加载JS；避免阻塞主线程
  3. 优化资源加载：使用图片懒加载；压缩图片、使用现代图片格式；预加载关键资源
  4. 启用浏览器缓存，加速重复访问

## LCP (Largest Contentful Paint) 最大内容绘制

- 含义：在视窗内可见的最大图像或者文本块的绘制时间，这个指标关注页面主要内容的加载情况。
- 重要性：LCP能更好的反映用户感知到的页面加载速度。

## TTFB (Time to First Byte) 首字节时间

- 含义：只浏览器从开始请求页面到收到第一个字节的时间，这个时间包括了网络传输时间、服务器处理时间等多个因素。
      是衡量服务器响应速度和网络性能的一个重要指标。
- 重要性：较短的TTFB表示服务器能够快速响应浏览器的请求，TTFB过长，会影响整个页面的加载速度。
- 优化措施：
  1. 优化DNS解析时间，启用DNS预解析
  2. 提高服务器性能，启用Gzip压缩
  3. 避免不必要的301/302重定向
- 统计手段：
  1. chrome dev tool-network面板
  2. PerformanceNavigationTiming和performance.timing
  3. 使用Nginx服务器日志记录TTFB

## FID (First Input Delay) 首次输入延迟

- 含义：用户首次与页面交互到浏览器开始响应这个交互所用的时间
- FID过高，用户会感觉页面卡顿

## CLS (Cumulative Layout Shift) 累积布局偏移

- 含义：衡量页面在加载过程中的视觉稳定性。计算页面布局在加载和交互过程中的意外移动情况
- 良好的视觉稳定性是优质用户体验的关键。

## TTI (Time to Interactive) 可交互时间

- 含义：从页面开始加载到完全可交互，所有事件监听器已添加且页面响应迅速

## TBT (Total Blocking Time) 总阻塞时间

- 含义：在FCP和TTI之间，主线程被阻塞(无法响应用户输入)的总时间。由于长时间的js执行或者其他主线程任务导致
